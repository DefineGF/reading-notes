### 引言

通过把每个像素点替换为该像素及其邻域的函数值修改图像.

##### 图像填充

- 填充0: 盒式滤波会产生黑色边框;
- 对称(镜像)填充: 跨越边界反射图像;
- 复制填充: 将边界之外的值设置为最接近的图像边界值.

当图像边界附近区域为常数时, 适用复制填充; 边界附近包含图像细节时, 镜像填充更适用.

#### 1. 平滑(低通)空间空间滤波

##### 1.1 盒式滤波器核

*   元素值为1 的 m\*n的阵列;
*   归一化常数 = 1 / m\*n;
*   希望减少边缘平滑的作用时很有用;
*   盒式滤波器往往沿垂直方向模糊图像;

##### 1.2 低通高斯滤波器核

$$
w(s,t) = G(s,t) = K*e^{-\frac{s^2 + t^2}{2σ^2}}
$$





- 可分离的;
- (唯一可分离的)圆对称核;

希望边缘的平滑较低时, 使用盒式核; 希望产生均匀的平滑结果时, 通常使用高斯核.

##### 1.3 统计排序(非线性)滤波器

基于包含区域内的像素的排序, 平滑是将中心像素的值替代为由排序结果确定的值来实现的.
中值滤波器:
中心像素的邻域内的灰度值的中值来替代中心像素的值. 对某些类型的随机噪声提供了优秀的降噪能力. 存在冲激噪声时尤为有效.

> 把白点和黑点形式叠加到图像上的冲激噪声称为椒盐噪声.

#### 2 锐化(高通)空间滤波器

锐化的作用是突出灰度的过渡.
通过平均(平滑)一个邻域中的像素来实现图像模糊, 可以合理的认为锐化能够通过空间微分来实现.
图像微分可增加边缘和其他不连续(噪声).

发生变化的最短距离是相邻像素间的距离:
一阶导数基本定义:
$$
\frac{\partial{y}}{\partial{x}} = f(x+1) - f(x)
$$




二阶导数基本定义:
$$
\frac{\partial^2{y}}{\partial{x^2}} = f(x+1) + f(x-1) - 2*f(x)
$$


数字图像的边缘在灰度上通常类似于斜坡过渡.

##### 2.1 二阶导数锐化图像-拉普拉斯

对于图像f(x, y): 
$$
\nabla^2{y} = \frac{\partial^2f}{\partial x^2} +\frac{\partial^2  y}{\partial x^2}
$$


前者是在 x 方向上, 后者是y. 可写成:
$$
\nabla^2 f(x, y) = f(x + 1, y) + f(x - 1, y) + f(x, y + 1) + f(x, y - 1) - 4 * f(x, y)
$$


锐化图像:
$$
g(x, y) = f(x, y) + c * {\nabla^2 f(x, y)}
$$


当使用的核为时: **c = -1** (原图像减去拉普拉斯图像得到锐化结果)
$$
\begin {matrix}
0 & 1  & 0 \\
1 & -4 & 1 \\
0 & 1  & 0 
\end {matrix} \space\space\space 或者 \space\space\space
\begin {matrix}
1 & 1  & 1 \\
1 & -8 & 1 \\
1 & 1  & 1 
\end {matrix}
$$


##### 2.2 钝化掩蔽

大致步骤为:

1. 模糊原图像;
2. 从原图像中减去模糊后的图像 得到 模板;
3. 将模板与原图像相加.

数学表示为:
$$
g_{mask}(x, y) = f(x, y) - \overline{y}(x, y); \\
g(x, y) = f(x, y) + k * g_{mask}(x, y);
$$


当 k = 1: 钝化掩蔽;
当 k > 1: 高提升滤波;

##### 2.3 一阶导数锐化-梯度

图像f在(x, y)处的梯度定义为二维列向量: 
$$
\nabla{f} = grad(f) = 
\left[
\begin {matrix}
g_x \\ g_y
\end {matrix} \right] = 
\left[
\begin {matrix}
\frac{\partial f}{\partial x} \\
\frac {\partial f}{\partial y}
\end {matrix} \right]
$$